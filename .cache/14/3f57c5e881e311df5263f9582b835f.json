{"id":"A2T1","dependencies":[{"name":"C:\\dev\\express-starterproj\\build\\app.js.map","includedInParent":true,"mtime":1540414706907},{"name":"C:\\dev\\express-starterproj\\package.json","includedInParent":true,"mtime":1540414379428},{"name":"./app.config","loc":{"line":15,"column":29},"parent":"C:\\dev\\express-starterproj\\build\\app.js","resolved":"C:\\dev\\express-starterproj\\build\\app.config.js"},{"name":"./express.middleware","loc":{"line":21,"column":37},"parent":"C:\\dev\\express-starterproj\\build\\app.js","resolved":"C:\\dev\\express-starterproj\\build\\express.middleware.js"},{"name":"./util","loc":{"line":23,"column":24},"parent":"C:\\dev\\express-starterproj\\build\\app.js","resolved":"C:\\dev\\express-starterproj\\build\\util\\index.js"},{"name":"./routes","loc":{"line":25,"column":23},"parent":"C:\\dev\\express-starterproj\\build\\app.js","resolved":"C:\\dev\\express-starterproj\\build\\routes\\index.js"},{"name":"C:\\dev\\express-starterproj\\.terserrc","includedInParent":true,"mtime":1540365728163}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});const e=require(\"fs\"),r=require(\"http\"),i=require(\"https\"),s=require(\"./app.config\"),t=require(\"express\"),o=require(\"./express.middleware\"),n=require(\"./util\"),p=require(\"./routes\");class a extends s.AppConfig{constructor(e){super(),this.onError=(e=>{if(\"listen\"!==e.syscall)throw e;const r=\"string\"==typeof this.port?\"Pipe \"+this.port:\"Port \"+this.port;switch(e.code){case\"EACCES\":console.error(r+\" requires elevated privileges\"),process.exit(1);break;case\"EADDRINUSE\":console.error(r+\" is already in use\"),process.exit(1);break;default:throw e}}),this.onListening=(()=>{const e=this.server.address(),r=\"string\"==typeof e?\"pipe \"+e:\"port \"+e.port;console.log(\"Listening on \"+r)});for(const r in e)this[r]=e[r]}initialize(){this.app=t(),this.port=n.normalizePort(this.port),this.app.set(\"port\",this.port),this.initializeMiddleware(),this.initializeCors(),this.initializeRoutes(),this.initializeServer()}initializeMiddleware(){this.app.use(o.cookieParser()),this.app.use(o.bodyParser.json()),this.app.use(o.bodyParser.urlencoded({extended:!0})),this.app.use(o.expressValidator())}initializeRoutes(){this.app.use(\"/\",p.index)}initializeCors(){this.app.use((e,r,i)=>{r.header(\"Access-Control-Allow-Origin\",this.cors?this.cors.origin:\"*\"),r.header(\"Access-Control-Allow-Headers\",\"Origin, X-Requested-With, Content-Type, Accept\"),r.header(\"Access-Control-Allow-Methods\",\"GET, POST, OPTIONS, PUT, PATCH, DELETE\"),i()})}initializeServer(){this.server=this.createServer(),this.server.listen(this.port),this.server.on(\"error\",this.onError),this.server.on(\"listening\",this.onListening)}createServer(){if(this.useHttps){const r=e.readFileSync(this.key),s=e.readFileSync(this.cert);return i.createServer({key:r,cert:s},this.app)}return r.createServer(this.app)}}exports.default=a;","map":{"mappings":[{"source":"app.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"app.js","name":"Object","original":{"line":2,"column":0},"generated":{"line":1,"column":13}},{"source":"app.js","name":"defineProperty","original":{"line":2,"column":7},"generated":{"line":1,"column":20}},{"source":"app.js","name":"exports","original":{"line":2,"column":22},"generated":{"line":1,"column":35}},{"source":"app.js","name":null,"original":{"line":2,"column":31},"generated":{"line":1,"column":43}},{"source":"app.js","name":null,"original":{"line":2,"column":45},"generated":{"line":1,"column":56}},{"source":"app.js","name":"value","original":{"line":2,"column":47},"generated":{"line":1,"column":57}},{"source":"app.js","name":null,"original":{"line":2,"column":54},"generated":{"line":1,"column":64}},{"source":"../src/app.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":68}},{"source":"../src/app.ts","name":"fs","original":{"line":1,"column":0},"generated":{"line":1,"column":74}},{"source":"../src/app.ts","name":"require","original":{"line":1,"column":0},"generated":{"line":1,"column":76}},{"source":"../src/app.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":84}},{"source":"../src/app.ts","name":"http","original":{"line":4,"column":0},"generated":{"line":1,"column":90}},{"source":"../src/app.ts","name":"require","original":{"line":4,"column":0},"generated":{"line":1,"column":92}},{"source":"../src/app.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":100}},{"source":"../src/app.ts","name":"https","original":{"line":5,"column":0},"generated":{"line":1,"column":108}},{"source":"../src/app.ts","name":"require","original":{"line":5,"column":0},"generated":{"line":1,"column":110}},{"source":"../src/app.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":118}},{"source":"../src/app.ts","name":"app_config_1","original":{"line":7,"column":0},"generated":{"line":1,"column":127}},{"source":"../src/app.ts","name":"require","original":{"line":7,"column":0},"generated":{"line":1,"column":129}},{"source":"../src/app.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":137}},{"source":"../src/app.ts","name":"express","original":{"line":10,"column":0},"generated":{"line":1,"column":153}},{"source":"../src/app.ts","name":"require","original":{"line":10,"column":0},"generated":{"line":1,"column":155}},{"source":"../src/app.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":163}},{"source":"../src/app.ts","name":"express_middleware_1","original":{"line":11,"column":0},"generated":{"line":1,"column":174}},{"source":"../src/app.ts","name":"require","original":{"line":11,"column":0},"generated":{"line":1,"column":176}},{"source":"../src/app.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":184}},{"source":"../src/app.ts","name":"_util_1","original":{"line":17,"column":0},"generated":{"line":1,"column":208}},{"source":"../src/app.ts","name":"require","original":{"line":17,"column":0},"generated":{"line":1,"column":210}},{"source":"../src/app.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":218}},{"source":"../src/app.ts","name":"Routes","original":{"line":19,"column":0},"generated":{"line":1,"column":228}},{"source":"../src/app.ts","name":"require","original":{"line":19,"column":0},"generated":{"line":1,"column":230}},{"source":"../src/app.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":238}},{"source":"../src/app.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":250}},{"source":"../src/app.ts","name":"App","original":{"line":21,"column":21},"generated":{"line":1,"column":256}},{"source":"../src/app.ts","name":"app_config_1","original":{"line":21,"column":33},"generated":{"line":1,"column":266}},{"source":"../src/app.ts","name":"AppConfig","original":{"line":21,"column":33},"generated":{"line":1,"column":268}},{"source":"../src/app.ts","name":"constructor","original":{"line":25,"column":4},"generated":{"line":1,"column":278}},{"source":"../src/app.ts","name":"options","original":{"line":25,"column":16},"generated":{"line":1,"column":290}},{"source":"../src/app.ts","name":null,"original":{"line":26,"column":8},"generated":{"line":1,"column":293}},{"source":"../src/app.ts","name":"onError","original":{"line":94,"column":4},"generated":{"line":1,"column":301}},{"source":"../src/app.ts","name":"onError","original":{"line":94,"column":4},"generated":{"line":1,"column":306}},{"source":"../src/app.ts","name":"error","original":{"line":94,"column":15},"generated":{"line":1,"column":314}},{"source":"../src/app.ts","name":"error","original":{"line":94,"column":15},"generated":{"line":1,"column":315}},{"source":"../src/app.ts","name":"error","original":{"line":95,"column":12},"generated":{"line":1,"column":319}},{"source":"../src/app.ts","name":null,"original":{"line":95,"column":30},"generated":{"line":1,"column":322}},{"source":"../src/app.ts","name":"error","original":{"line":95,"column":12},"generated":{"line":1,"column":333}},{"source":"../src/app.ts","name":"syscall","original":{"line":95,"column":18},"generated":{"line":1,"column":335}},{"source":"../src/app.ts","name":"error","original":{"line":96,"column":18},"generated":{"line":1,"column":343}},{"source":"../src/app.ts","name":"error","original":{"line":96,"column":18},"generated":{"line":1,"column":349}},{"source":"../src/app.ts","name":"bind","original":{"line":99,"column":14},"generated":{"line":1,"column":351}},{"source":"../src/app.ts","name":"bind","original":{"line":99,"column":14},"generated":{"line":1,"column":357}},{"source":"../src/app.ts","name":null,"original":{"line":100,"column":33},"generated":{"line":1,"column":359}},{"source":"../src/app.ts","name":null,"original":{"line":100,"column":19},"generated":{"line":1,"column":376}},{"source":"../src/app.ts","name":"port","original":{"line":100,"column":24},"generated":{"line":1,"column":381}},{"source":"../src/app.ts","name":null,"original":{"line":101,"column":18},"generated":{"line":1,"column":386}},{"source":"../src/app.ts","name":null,"original":{"line":101,"column":28},"generated":{"line":1,"column":394}},{"source":"../src/app.ts","name":"port","original":{"line":101,"column":33},"generated":{"line":1,"column":399}},{"source":"../src/app.ts","name":null,"original":{"line":102,"column":18},"generated":{"line":1,"column":404}},{"source":"../src/app.ts","name":null,"original":{"line":102,"column":28},"generated":{"line":1,"column":412}},{"source":"../src/app.ts","name":"port","original":{"line":102,"column":33},"generated":{"line":1,"column":417}},{"source":"../src/app.ts","name":"error","original":{"line":105,"column":16},"generated":{"line":1,"column":422}},{"source":"../src/app.ts","name":"error","original":{"line":105,"column":16},"generated":{"line":1,"column":429}},{"source":"../src/app.ts","name":"code","original":{"line":105,"column":22},"generated":{"line":1,"column":431}},{"source":"../src/app.ts","name":null,"original":{"line":106,"column":17},"generated":{"line":1,"column":437}},{"source":"../src/app.ts","name":null,"original":{"line":106,"column":17},"generated":{"line":1,"column":441}},{"source":"../src/app.ts","name":"console","original":{"line":107,"column":16},"generated":{"line":1,"column":450}},{"source":"../src/app.ts","name":"error","original":{"line":107,"column":24},"generated":{"line":1,"column":458}},{"source":"../src/app.ts","name":"bind","original":{"line":107,"column":30},"generated":{"line":1,"column":464}},{"source":"../src/app.ts","name":null,"original":{"line":107,"column":37},"generated":{"line":1,"column":466}},{"source":"../src/app.ts","name":"process","original":{"line":108,"column":16},"generated":{"line":1,"column":499}},{"source":"../src/app.ts","name":"exit","original":{"line":108,"column":24},"generated":{"line":1,"column":507}},{"source":"../src/app.ts","name":null,"original":{"line":108,"column":29},"generated":{"line":1,"column":512}},{"source":"../src/app.ts","name":null,"original":{"line":109,"column":16},"generated":{"line":1,"column":515}},{"source":"../src/app.ts","name":null,"original":{"line":110,"column":17},"generated":{"line":1,"column":521}},{"source":"../src/app.ts","name":null,"original":{"line":110,"column":17},"generated":{"line":1,"column":525}},{"source":"../src/app.ts","name":"console","original":{"line":111,"column":16},"generated":{"line":1,"column":538}},{"source":"../src/app.ts","name":"error","original":{"line":111,"column":24},"generated":{"line":1,"column":546}},{"source":"../src/app.ts","name":"bind","original":{"line":111,"column":30},"generated":{"line":1,"column":552}},{"source":"../src/app.ts","name":null,"original":{"line":111,"column":37},"generated":{"line":1,"column":554}},{"source":"../src/app.ts","name":"process","original":{"line":112,"column":16},"generated":{"line":1,"column":576}},{"source":"../src/app.ts","name":"exit","original":{"line":112,"column":24},"generated":{"line":1,"column":584}},{"source":"../src/app.ts","name":null,"original":{"line":112,"column":29},"generated":{"line":1,"column":589}},{"source":"../src/app.ts","name":null,"original":{"line":113,"column":16},"generated":{"line":1,"column":592}},{"source":"../src/app.ts","name":null,"original":{"line":114,"column":12},"generated":{"line":1,"column":598}},{"source":"../src/app.ts","name":"error","original":{"line":115,"column":22},"generated":{"line":1,"column":606}},{"source":"../src/app.ts","name":"error","original":{"line":115,"column":22},"generated":{"line":1,"column":612}},{"source":"../src/app.ts","name":"onListening","original":{"line":119,"column":4},"generated":{"line":1,"column":617}},{"source":"../src/app.ts","name":"onListening","original":{"line":119,"column":4},"generated":{"line":1,"column":622}},{"source":"../src/app.ts","name":null,"original":{"line":119,"column":18},"generated":{"line":1,"column":634}},{"source":"../src/app.ts","name":"addr","original":{"line":120,"column":14},"generated":{"line":1,"column":640}},{"source":"../src/app.ts","name":"addr","original":{"line":120,"column":14},"generated":{"line":1,"column":646}},{"source":"../src/app.ts","name":null,"original":{"line":120,"column":21},"generated":{"line":1,"column":648}},{"source":"../src/app.ts","name":"server","original":{"line":120,"column":26},"generated":{"line":1,"column":653}},{"source":"../src/app.ts","name":"address","original":{"line":120,"column":33},"generated":{"line":1,"column":660}},{"source":"../src/app.ts","name":"bind","original":{"line":121,"column":14},"generated":{"line":1,"column":670}},{"source":"../src/app.ts","name":null,"original":{"line":122,"column":28},"generated":{"line":1,"column":672}},{"source":"../src/app.ts","name":"addr","original":{"line":122,"column":19},"generated":{"line":1,"column":689}},{"source":"../src/app.ts","name":null,"original":{"line":122,"column":39},"generated":{"line":1,"column":691}},{"source":"../src/app.ts","name":"addr","original":{"line":122,"column":49},"generated":{"line":1,"column":699}},{"source":"../src/app.ts","name":null,"original":{"line":122,"column":56},"generated":{"line":1,"column":701}},{"source":"../src/app.ts","name":"addr","original":{"line":122,"column":66},"generated":{"line":1,"column":709}},{"source":"../src/app.ts","name":"port","original":{"line":122,"column":71},"generated":{"line":1,"column":711}},{"source":"../src/app.ts","name":"console","original":{"line":123,"column":8},"generated":{"line":1,"column":716}},{"source":"../src/app.ts","name":"log","original":{"line":123,"column":16},"generated":{"line":1,"column":724}},{"source":"../src/app.ts","name":null,"original":{"line":123,"column":20},"generated":{"line":1,"column":728}},{"source":"../src/app.ts","name":"bind","original":{"line":123,"column":38},"generated":{"line":1,"column":744}},{"source":"../src/app.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":749}},{"source":"../src/app.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":753}},{"source":"../src/app.ts","name":"K","original":{"line":28,"column":19},"generated":{"line":1,"column":759}},{"source":"../src/app.ts","name":"options","original":{"line":28,"column":24},"generated":{"line":1,"column":764}},{"source":"../src/app.ts","name":"K","original":{"line":29,"column":17},"generated":{"line":1,"column":766}},{"source":"../src/app.ts","name":"K","original":{"line":29,"column":17},"generated":{"line":1,"column":771}},{"source":"../src/app.ts","name":"options","original":{"line":29,"column":22},"generated":{"line":1,"column":774}},{"source":"../src/app.ts","name":"K","original":{"line":29,"column":30},"generated":{"line":1,"column":776}},{"source":"../src/app.ts","name":"initialize","original":{"line":33,"column":4},"generated":{"line":1,"column":779}},{"source":"../src/app.ts","name":"app","original":{"line":34,"column":13},"generated":{"line":1,"column":792}},{"source":"../src/app.ts","name":"app","original":{"line":34,"column":13},"generated":{"line":1,"column":797}},{"source":"../src/app.ts","name":"express","original":{"line":34,"column":19},"generated":{"line":1,"column":801}},{"source":"../src/app.ts","name":"port","original":{"line":35,"column":13},"generated":{"line":1,"column":805}},{"source":"../src/app.ts","name":"port","original":{"line":35,"column":13},"generated":{"line":1,"column":810}},{"source":"../src/app.ts","name":"_util_1","original":{"line":35,"column":20},"generated":{"line":1,"column":815}},{"source":"../src/app.ts","name":"normalizePort","original":{"line":35,"column":20},"generated":{"line":1,"column":817}},{"source":"../src/app.ts","name":null,"original":{"line":35,"column":34},"generated":{"line":1,"column":831}},{"source":"../src/app.ts","name":"port","original":{"line":35,"column":39},"generated":{"line":1,"column":836}},{"source":"../src/app.ts","name":"app","original":{"line":36,"column":13},"generated":{"line":1,"column":842}},{"source":"../src/app.ts","name":"app","original":{"line":36,"column":13},"generated":{"line":1,"column":847}},{"source":"../src/app.ts","name":"set","original":{"line":36,"column":17},"generated":{"line":1,"column":851}},{"source":"../src/app.ts","name":null,"original":{"line":36,"column":21},"generated":{"line":1,"column":855}},{"source":"../src/app.ts","name":null,"original":{"line":36,"column":29},"generated":{"line":1,"column":862}},{"source":"../src/app.ts","name":"port","original":{"line":36,"column":34},"generated":{"line":1,"column":867}},{"source":"../src/app.ts","name":"initializeMiddleware","original":{"line":38,"column":13},"generated":{"line":1,"column":873}},{"source":"../src/app.ts","name":"initializeMiddleware","original":{"line":38,"column":13},"generated":{"line":1,"column":878}},{"source":"../src/app.ts","name":"initializeCors","original":{"line":39,"column":13},"generated":{"line":1,"column":901}},{"source":"../src/app.ts","name":"initializeCors","original":{"line":39,"column":13},"generated":{"line":1,"column":906}},{"source":"../src/app.ts","name":"initializeRoutes","original":{"line":40,"column":13},"generated":{"line":1,"column":923}},{"source":"../src/app.ts","name":"initializeRoutes","original":{"line":40,"column":13},"generated":{"line":1,"column":928}},{"source":"../src/app.ts","name":"initializeServer","original":{"line":41,"column":13},"generated":{"line":1,"column":947}},{"source":"../src/app.ts","name":"initializeServer","original":{"line":41,"column":13},"generated":{"line":1,"column":952}},{"source":"../src/app.ts","name":"initializeMiddleware","original":{"line":44,"column":4},"generated":{"line":1,"column":971}},{"source":"../src/app.ts","name":"app","original":{"line":46,"column":13},"generated":{"line":1,"column":994}},{"source":"../src/app.ts","name":"app","original":{"line":46,"column":13},"generated":{"line":1,"column":999}},{"source":"../src/app.ts","name":"use","original":{"line":46,"column":17},"generated":{"line":1,"column":1003}},{"source":"../src/app.ts","name":"express_middleware_1","original":{"line":46,"column":21},"generated":{"line":1,"column":1007}},{"source":"../src/app.ts","name":"cookieParser","original":{"line":46,"column":21},"generated":{"line":1,"column":1009}},{"source":"../src/app.ts","name":"app","original":{"line":48,"column":13},"generated":{"line":1,"column":1025}},{"source":"../src/app.ts","name":"app","original":{"line":48,"column":13},"generated":{"line":1,"column":1030}},{"source":"../src/app.ts","name":"use","original":{"line":48,"column":17},"generated":{"line":1,"column":1034}},{"source":"../src/app.ts","name":"express_middleware_1","original":{"line":48,"column":21},"generated":{"line":1,"column":1038}},{"source":"../src/app.ts","name":"bodyParser","original":{"line":48,"column":21},"generated":{"line":1,"column":1040}},{"source":"../src/app.ts","name":"json","original":{"line":48,"column":32},"generated":{"line":1,"column":1051}},{"source":"../src/app.ts","name":"app","original":{"line":49,"column":13},"generated":{"line":1,"column":1059}},{"source":"../src/app.ts","name":"app","original":{"line":49,"column":13},"generated":{"line":1,"column":1064}},{"source":"../src/app.ts","name":"use","original":{"line":49,"column":17},"generated":{"line":1,"column":1068}},{"source":"../src/app.ts","name":"express_middleware_1","original":{"line":49,"column":21},"generated":{"line":1,"column":1072}},{"source":"../src/app.ts","name":"bodyParser","original":{"line":49,"column":21},"generated":{"line":1,"column":1074}},{"source":"../src/app.ts","name":"urlencoded","original":{"line":49,"column":32},"generated":{"line":1,"column":1085}},{"source":"../src/app.ts","name":null,"original":{"line":49,"column":43},"generated":{"line":1,"column":1096}},{"source":"../src/app.ts","name":"extended","original":{"line":49,"column":45},"generated":{"line":1,"column":1097}},{"source":"../src/app.ts","name":null,"original":{"line":49,"column":55},"generated":{"line":1,"column":1107}},{"source":"../src/app.ts","name":"app","original":{"line":51,"column":13},"generated":{"line":1,"column":1112}},{"source":"../src/app.ts","name":"app","original":{"line":51,"column":13},"generated":{"line":1,"column":1117}},{"source":"../src/app.ts","name":"use","original":{"line":51,"column":17},"generated":{"line":1,"column":1121}},{"source":"../src/app.ts","name":"express_middleware_1","original":{"line":51,"column":21},"generated":{"line":1,"column":1125}},{"source":"../src/app.ts","name":"expressValidator","original":{"line":51,"column":21},"generated":{"line":1,"column":1127}},{"source":"../src/app.ts","name":"initializeRoutes","original":{"line":54,"column":4},"generated":{"line":1,"column":1147}},{"source":"../src/app.ts","name":"app","original":{"line":55,"column":13},"generated":{"line":1,"column":1166}},{"source":"../src/app.ts","name":"app","original":{"line":55,"column":13},"generated":{"line":1,"column":1171}},{"source":"../src/app.ts","name":"use","original":{"line":55,"column":17},"generated":{"line":1,"column":1175}},{"source":"../src/app.ts","name":null,"original":{"line":55,"column":21},"generated":{"line":1,"column":1179}},{"source":"../src/app.ts","name":"Routes","original":{"line":55,"column":26},"generated":{"line":1,"column":1183}},{"source":"../src/app.ts","name":"index","original":{"line":55,"column":33},"generated":{"line":1,"column":1185}},{"source":"../src/app.ts","name":"initializeCors","original":{"line":58,"column":4},"generated":{"line":1,"column":1192}},{"source":"../src/app.ts","name":"app","original":{"line":60,"column":13},"generated":{"line":1,"column":1209}},{"source":"../src/app.ts","name":"app","original":{"line":60,"column":13},"generated":{"line":1,"column":1214}},{"source":"../src/app.ts","name":"use","original":{"line":60,"column":17},"generated":{"line":1,"column":1218}},{"source":"../src/app.ts","name":null,"original":{"line":60,"column":21},"generated":{"line":1,"column":1222}},{"source":"../src/app.ts","name":"req","original":{"line":60,"column":22},"generated":{"line":1,"column":1223}},{"source":"../src/app.ts","name":"res","original":{"line":60,"column":27},"generated":{"line":1,"column":1225}},{"source":"../src/app.ts","name":"next","original":{"line":60,"column":32},"generated":{"line":1,"column":1227}},{"source":"../src/app.ts","name":"res","original":{"line":61,"column":12},"generated":{"line":1,"column":1232}},{"source":"../src/app.ts","name":"header","original":{"line":61,"column":16},"generated":{"line":1,"column":1234}},{"source":"../src/app.ts","name":null,"original":{"line":62,"column":16},"generated":{"line":1,"column":1241}},{"source":"../src/app.ts","name":null,"original":{"line":63,"column":16},"generated":{"line":1,"column":1271}},{"source":"../src/app.ts","name":"cors","original":{"line":63,"column":21},"generated":{"line":1,"column":1276}},{"source":"../src/app.ts","name":null,"original":{"line":63,"column":28},"generated":{"line":1,"column":1281}},{"source":"../src/app.ts","name":"cors","original":{"line":63,"column":33},"generated":{"line":1,"column":1286}},{"source":"../src/app.ts","name":"origin","original":{"line":63,"column":38},"generated":{"line":1,"column":1291}},{"source":"../src/app.ts","name":null,"original":{"line":63,"column":47},"generated":{"line":1,"column":1298}},{"source":"../src/app.ts","name":"res","original":{"line":65,"column":12},"generated":{"line":1,"column":1303}},{"source":"../src/app.ts","name":"header","original":{"line":65,"column":16},"generated":{"line":1,"column":1305}},{"source":"../src/app.ts","name":null,"original":{"line":66,"column":16},"generated":{"line":1,"column":1312}},{"source":"../src/app.ts","name":null,"original":{"line":67,"column":16},"generated":{"line":1,"column":1343}},{"source":"../src/app.ts","name":"res","original":{"line":69,"column":12},"generated":{"line":1,"column":1393}},{"source":"../src/app.ts","name":"header","original":{"line":69,"column":16},"generated":{"line":1,"column":1395}},{"source":"../src/app.ts","name":null,"original":{"line":70,"column":16},"generated":{"line":1,"column":1402}},{"source":"../src/app.ts","name":null,"original":{"line":71,"column":16},"generated":{"line":1,"column":1433}},{"source":"../src/app.ts","name":"next","original":{"line":73,"column":12},"generated":{"line":1,"column":1475}},{"source":"../src/app.ts","name":"initializeServer","original":{"line":77,"column":4},"generated":{"line":1,"column":1481}},{"source":"../src/app.ts","name":"server","original":{"line":78,"column":13},"generated":{"line":1,"column":1500}},{"source":"../src/app.ts","name":"server","original":{"line":78,"column":13},"generated":{"line":1,"column":1505}},{"source":"../src/app.ts","name":null,"original":{"line":78,"column":22},"generated":{"line":1,"column":1512}},{"source":"../src/app.ts","name":"createServer","original":{"line":78,"column":27},"generated":{"line":1,"column":1517}},{"source":"../src/app.ts","name":"server","original":{"line":79,"column":13},"generated":{"line":1,"column":1532}},{"source":"../src/app.ts","name":"server","original":{"line":79,"column":13},"generated":{"line":1,"column":1537}},{"source":"../src/app.ts","name":"listen","original":{"line":79,"column":20},"generated":{"line":1,"column":1544}},{"source":"../src/app.ts","name":null,"original":{"line":79,"column":27},"generated":{"line":1,"column":1551}},{"source":"../src/app.ts","name":"port","original":{"line":79,"column":32},"generated":{"line":1,"column":1556}},{"source":"../src/app.ts","name":"server","original":{"line":81,"column":13},"generated":{"line":1,"column":1562}},{"source":"../src/app.ts","name":"server","original":{"line":81,"column":13},"generated":{"line":1,"column":1567}},{"source":"../src/app.ts","name":"on","original":{"line":81,"column":20},"generated":{"line":1,"column":1574}},{"source":"../src/app.ts","name":null,"original":{"line":81,"column":23},"generated":{"line":1,"column":1577}},{"source":"../src/app.ts","name":null,"original":{"line":81,"column":32},"generated":{"line":1,"column":1585}},{"source":"../src/app.ts","name":"onError","original":{"line":81,"column":37},"generated":{"line":1,"column":1590}},{"source":"../src/app.ts","name":"server","original":{"line":82,"column":13},"generated":{"line":1,"column":1599}},{"source":"../src/app.ts","name":"server","original":{"line":82,"column":13},"generated":{"line":1,"column":1604}},{"source":"../src/app.ts","name":"on","original":{"line":82,"column":20},"generated":{"line":1,"column":1611}},{"source":"../src/app.ts","name":null,"original":{"line":82,"column":23},"generated":{"line":1,"column":1614}},{"source":"../src/app.ts","name":null,"original":{"line":82,"column":36},"generated":{"line":1,"column":1626}},{"source":"../src/app.ts","name":"onListening","original":{"line":82,"column":41},"generated":{"line":1,"column":1631}},{"source":"../src/app.ts","name":"createServer","original":{"line":85,"column":4},"generated":{"line":1,"column":1644}},{"source":"../src/app.ts","name":null,"original":{"line":86,"column":12},"generated":{"line":1,"column":1659}},{"source":"../src/app.ts","name":null,"original":{"line":86,"column":12},"generated":{"line":1,"column":1662}},{"source":"../src/app.ts","name":"useHttps","original":{"line":86,"column":17},"generated":{"line":1,"column":1667}},{"source":"../src/app.ts","name":null,"original":{"line":86,"column":27},"generated":{"line":1,"column":1676}},{"source":"../src/app.ts","name":"_key","original":{"line":87,"column":18},"generated":{"line":1,"column":1677}},{"source":"../src/app.ts","name":"_key","original":{"line":87,"column":18},"generated":{"line":1,"column":1683}},{"source":"../src/app.ts","name":"fs","original":{"line":87,"column":25},"generated":{"line":1,"column":1685}},{"source":"../src/app.ts","name":"readFileSync","original":{"line":87,"column":28},"generated":{"line":1,"column":1687}},{"source":"../src/app.ts","name":null,"original":{"line":87,"column":41},"generated":{"line":1,"column":1700}},{"source":"../src/app.ts","name":"key","original":{"line":87,"column":46},"generated":{"line":1,"column":1705}},{"source":"../src/app.ts","name":"_cert","original":{"line":88,"column":18},"generated":{"line":1,"column":1710}},{"source":"../src/app.ts","name":"fs","original":{"line":88,"column":26},"generated":{"line":1,"column":1712}},{"source":"../src/app.ts","name":"readFileSync","original":{"line":88,"column":29},"generated":{"line":1,"column":1714}},{"source":"../src/app.ts","name":null,"original":{"line":88,"column":42},"generated":{"line":1,"column":1727}},{"source":"../src/app.ts","name":"cert","original":{"line":88,"column":47},"generated":{"line":1,"column":1732}},{"source":"../src/app.ts","name":"https","original":{"line":89,"column":19},"generated":{"line":1,"column":1738}},{"source":"../src/app.ts","name":"https","original":{"line":89,"column":19},"generated":{"line":1,"column":1745}},{"source":"../src/app.ts","name":"createServer","original":{"line":89,"column":25},"generated":{"line":1,"column":1747}},{"source":"../src/app.ts","name":null,"original":{"line":89,"column":38},"generated":{"line":1,"column":1760}},{"source":"../src/app.ts","name":"key","original":{"line":89,"column":40},"generated":{"line":1,"column":1761}},{"source":"../src/app.ts","name":"_key","original":{"line":89,"column":45},"generated":{"line":1,"column":1765}},{"source":"../src/app.ts","name":"cert","original":{"line":89,"column":51},"generated":{"line":1,"column":1767}},{"source":"../src/app.ts","name":"_cert","original":{"line":89,"column":57},"generated":{"line":1,"column":1772}},{"source":"../src/app.ts","name":null,"original":{"line":89,"column":66},"generated":{"line":1,"column":1775}},{"source":"../src/app.ts","name":"app","original":{"line":89,"column":71},"generated":{"line":1,"column":1780}},{"source":"../src/app.ts","name":"http","original":{"line":91,"column":15},"generated":{"line":1,"column":1785}},{"source":"../src/app.ts","name":"http","original":{"line":91,"column":15},"generated":{"line":1,"column":1792}},{"source":"../src/app.ts","name":"createServer","original":{"line":91,"column":20},"generated":{"line":1,"column":1794}},{"source":"../src/app.ts","name":null,"original":{"line":91,"column":33},"generated":{"line":1,"column":1807}},{"source":"../src/app.ts","name":"app","original":{"line":91,"column":38},"generated":{"line":1,"column":1812}},{"source":"../src/app.ts","name":"exports","original":{"line":21,"column":0},"generated":{"line":1,"column":1818}},{"source":"../src/app.ts","name":"default","original":{"line":21,"column":0},"generated":{"line":1,"column":1826}},{"source":"../src/app.ts","name":"App","original":{"line":21,"column":0},"generated":{"line":1,"column":1834}}],"sources":{"app.js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fs = require(\"fs\");\n/* HTTP Imports */\nconst http = require(\"http\");\nconst https = require(\"https\");\nconst app_config_1 = require(\"./app.config\");\n/* Express Imports */\nconst express = require(\"express\");\nconst express_middleware_1 = require(\"./express.middleware\");\nconst _util_1 = require(\"@util\");\nconst Routes = require(\"./routes\");\nclass App extends app_config_1.AppConfig {\n    constructor(options) {\n        super();\n        this.onError = (error) => {\n            if (error.syscall !== 'listen') {\n                throw error;\n            }\n            const bind = typeof this.port === 'string'\n                ? 'Pipe ' + this.port\n                : 'Port ' + this.port;\n            // handle specific listen errors with friendly messages\n            switch (error.code) {\n                case 'EACCES':\n                    console.error(bind + ' requires elevated privileges');\n                    process.exit(1);\n                    break;\n                case 'EADDRINUSE':\n                    console.error(bind + ' is already in use');\n                    process.exit(1);\n                    break;\n                default:\n                    throw error;\n            }\n        };\n        this.onListening = () => {\n            const addr = this.server.address();\n            const bind = typeof addr === 'string' ? 'pipe ' + addr : 'port ' + addr.port;\n            console.log('Listening on ' + bind);\n        };\n        for (const K in options) {\n            this[K] = options[K];\n        }\n    }\n    initialize() {\n        this.app = express();\n        this.port = _util_1.normalizePort(this.port);\n        this.app.set('port', this.port);\n        this.initializeMiddleware();\n        this.initializeCors();\n        this.initializeRoutes();\n        this.initializeServer();\n    }\n    initializeMiddleware() {\n        /* Initialize Middleware */\n        this.app.use(express_middleware_1.cookieParser());\n        this.app.use(express_middleware_1.bodyParser.json());\n        this.app.use(express_middleware_1.bodyParser.urlencoded({ extended: true }));\n        this.app.use(express_middleware_1.expressValidator());\n    }\n    initializeRoutes() {\n        this.app.use('/', Routes.index);\n    }\n    initializeCors() {\n        /* Allow CORS */\n        this.app.use((req, res, next) => {\n            res.header('Access-Control-Allow-Origin', this.cors ? this.cors.origin : '*');\n            res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept');\n            res.header('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, PATCH, DELETE');\n            next();\n        });\n    }\n    initializeServer() {\n        this.server = this.createServer();\n        this.server.listen(this.port);\n        this.server.on('error', this.onError);\n        this.server.on('listening', this.onListening);\n    }\n    createServer() {\n        if (this.useHttps) {\n            const _key = fs.readFileSync(this.key);\n            const _cert = fs.readFileSync(this.cert);\n            return https.createServer({ key: _key, cert: _cert }, this.app);\n        }\n        return http.createServer(this.app);\n    }\n}\nexports.default = App;\n","../src/app.ts":"import * as fs from 'fs';\r\n\r\n/* HTTP Imports */\r\nimport * as http from 'http';\r\nimport * as https from 'https';\r\n\r\nimport { AppConfig } from './app.config';\r\n\r\n/* Express Imports */\r\nimport * as express from 'express';\r\nimport {\r\n    cookieParser,\r\n    bodyParser,\r\n    expressValidator,\r\n} from './express.middleware';\r\n\r\nimport { Partial, Nullable, normalizePort } from '@util';\r\n\r\nimport * as Routes from './routes';\r\n\r\nexport default class App extends AppConfig {\r\n    server: http.Server | https.Server;\r\n    app: express.Application;\r\n\r\n    constructor(options: AppConfig) {\r\n        super();\r\n\r\n        for (const K in options) {\r\n            this[K] = options[K];\r\n        }\r\n    }\r\n\r\n    initialize() {\r\n        this.app = express();\r\n        this.port = normalizePort(this.port);\r\n        this.app.set('port', this.port);\r\n\r\n        this.initializeMiddleware();\r\n        this.initializeCors();\r\n        this.initializeRoutes();\r\n        this.initializeServer();\r\n    }\r\n\r\n    initializeMiddleware() {\r\n        /* Initialize Middleware */\r\n        this.app.use(cookieParser());\r\n\r\n        this.app.use(bodyParser.json());\r\n        this.app.use(bodyParser.urlencoded({ extended: true }));\r\n\r\n        this.app.use(expressValidator());\r\n    }\r\n\r\n    initializeRoutes() {\r\n        this.app.use('/', Routes.index);\r\n    }\r\n\r\n    initializeCors() {\r\n        /* Allow CORS */\r\n        this.app.use((req, res, next) => {\r\n            res.header(\r\n                'Access-Control-Allow-Origin',\r\n                this.cors ? this.cors.origin : '*'\r\n            );\r\n            res.header(\r\n                'Access-Control-Allow-Headers',\r\n                'Origin, X-Requested-With, Content-Type, Accept'\r\n            );\r\n            res.header(\r\n                'Access-Control-Allow-Methods',\r\n                'GET, POST, OPTIONS, PUT, PATCH, DELETE'\r\n            );\r\n            next();\r\n        });\r\n    }\r\n\r\n    initializeServer() {\r\n        this.server = this.createServer();\r\n        this.server.listen(this.port);\r\n\r\n        this.server.on('error', this.onError);\r\n        this.server.on('listening', this.onListening);\r\n    }\r\n\r\n    createServer() {\r\n        if (this.useHttps) {\r\n            const _key = fs.readFileSync(this.key);\r\n            const _cert = fs.readFileSync(this.cert);\r\n            return https.createServer({ key: _key, cert: _cert }, this.app);\r\n        }\r\n        return http.createServer(this.app);\r\n    }\r\n\r\n    onError = (error: any) => {\r\n        if (error.syscall !== 'listen') {\r\n            throw error;\r\n        }\r\n\r\n        const bind =\r\n            typeof this.port === 'string'\r\n                ? 'Pipe ' + this.port\r\n                : 'Port ' + this.port;\r\n\r\n        // handle specific listen errors with friendly messages\r\n        switch (error.code) {\r\n            case 'EACCES':\r\n                console.error(bind + ' requires elevated privileges');\r\n                process.exit(1);\r\n                break;\r\n            case 'EADDRINUSE':\r\n                console.error(bind + ' is already in use');\r\n                process.exit(1);\r\n                break;\r\n            default:\r\n                throw error;\r\n        }\r\n    };\r\n\r\n    onListening = () => {\r\n        const addr = this.server.address();\r\n        const bind =\r\n            typeof addr === 'string' ? 'pipe ' + addr : 'port ' + addr.port;\r\n        console.log('Listening on ' + bind);\r\n    };\r\n}\r\n"},"lineCount":null}},"hash":"8c97e9f0f11ed9fb22b1c0d1e9497a79","cacheData":{"env":{}}}